!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,i,a){for(var u,c,l,s=0,f=[];s<r.length;s++)c=r[s],o[c]&&f.push(o[c][0]),o[c]=0;for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u]);for(n&&n(r,i,a);f.length;)f.shift()();if(a)for(s=0;s<a.length;s++)l=t(t.s=a[s]);return l};var r={},o={96:0};t.e=function(e){function n(){u.onerror=u.onload=null,clearTimeout(c);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var r=o[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var i=new Promise(function(t,n){r=o[e]=[t,n]});r[2]=i;var a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!0,u.timeout=12e4,t.nc&&u.setAttribute("nonce",t.nc),u.src=t.p+"async_chunk/"+e+"."+{0:"99f5374",1:"b12437b",2:"3cf5f5c",3:"f777a47",4:"12bef64",5:"17ebef6",6:"0aacffe",7:"ac40150",8:"222bf3e",9:"b6a4aaa",10:"7982fba",11:"f8394ac",12:"0630107",13:"7b323a6",14:"f4362a8",15:"a58d9e9",16:"17203fc",17:"8f1e51e",18:"f7bf17b",19:"97afc9a",20:"d21a4b1",21:"feba775",22:"3f7919a",23:"d50aea7",24:"be4b8e1",25:"b3b079c",26:"e9258d9",27:"fad4524",28:"829ba5f",29:"352125b",30:"d41ffa7",31:"ab71a4a",32:"6e74ac2",33:"707c11f",34:"795f5eb",35:"5451f19",36:"a28d15c",37:"4896082",38:"44cc3d7",39:"ab964fd",40:"1033e8c",41:"2351eef",42:"ac53d5c",43:"83c79df",44:"f9c16fc",45:"afa9cbc",46:"c1dd420",47:"dfa180b",48:"3d6b08f",49:"7d40bfd",50:"6929635",51:"c02fc45",52:"a2360bd",53:"aaac258",54:"698aecd",55:"718456a",56:"08a25fa",57:"bcd4753",58:"b45839c",59:"7be7bda",60:"c8e0056",61:"bcdc6c6",62:"15ea25d",63:"295df6a",64:"c39209e",65:"a94ca18",66:"466191b",67:"00c21e8",68:"64e08c3",69:"7404fd0",70:"98fe863",71:"665d4e0",72:"c05c035",73:"43d5633",74:"15e800a",75:"11351aa",76:"1a9c6c1",77:"1b2f6dc",78:"e6cc53b",79:"73284df",80:"57fca86",81:"80678b2",82:"cccb79d",83:"7d5ae6f",84:"8ce8b70",85:"153dcd9",86:"e19f949",87:"c1d25d8",88:"cb4abab",89:"06cd9a7",90:"d941b99",91:"e3d6d70",92:"2be98a6",93:"6e28e9b",94:"b03d2bd",95:"68df0fe"}[e]+".js";var c=setTimeout(n,12e4);return u.onerror=u.onload=n,a.appendChild(u),i},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//shadow.elemecdn.com/faas/h5/",t.oe=function(e){throw console.error(e),e},t(t.s=1053)}({105:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(3),u=r(a),c=n(4),l=r(c),s=n(2),f=r(s),d=n(5),p=r(d),h=n(6),b=r(h),m=n(7),v=r(m);t.default={getGeohash:i.default,compareVersion:u.default,paramToString:l.default,resolveFetch:f.default,checkoutByApp:p.default,getUrl:b.default,expiredLocalStorage:v.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=/opensite/.test(document.domain),a=i?location.origin.replace(/\:\/\/opensite([-|.][^.]+)/,"://opensite-restapi$1"):location.origin.replace(/(https?\:\/\/).*?((\.[a-z]*)?\.(ele|elenet){1}\.me)/,"$1mainsite-restapi$2"),u=a+"/shopping/v1/cities/guess",c=function(e){return window.fetch(e,{credentials:"include"}).then(o.default)},l=function(){return window.UParams?window.UParams().geohash||"":""},s=function(){var e=arguments.length<=0||void 0===arguments[0]?5e3:arguments[0],t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n=null,r=function(){clearInterval(n)};return new Promise(function(o,i){if(!window.hybridAPI)return i();var a=function(){window.hybridAPI.getGlobalGeohash().then(function(e){e&&(r(),o(e))})};n=setInterval(a,t),a(),setTimeout(function(){r(),i()},e)})},f=function(){var e=arguments.length<=0||void 0===arguments[0]?5e3:arguments[0];return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(window.Geohash.encode(e.coords.latitude,e.coords.longitude))},n,{timeout:e,maximumAge:1e4})}):Promise.reject()},d=function(){return c(u).then(function(e){var t=e.latitude,n=e.longitude;return window.Geohash.encode(t,n)})},p=function(){var e=arguments.length<=0||void 0===arguments[0]?3e3:arguments[0];return window.ap?ap.getLocation({timeout:Math.round(e/1e3)}).then(function(e){return window.Geohash.encode(e.latitude,e.longitude)}):Promise.reject()},h=function(e){return new Promise(function(t,n){f(e).then(t).catch(function(){return d()}).then(t).catch(n),setTimeout(function(){n({error:"BROWSER_MODE_TIMEOUT"})},e+1e3)})},b=function(e,t){return s(2*e/3).catch(function(){return t?Promise.reject():h(1*e/3)})},m=function(e){return p(1*e/3).catch(function(){return h(2*e/3)})},v=function(){var e=arguments.length<=0||void 0===arguments[0]?9e3:arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=l();if(n)return Promise.resolve(n);return/Eleme/i.test(navigator.userAgent)?b(e,t):/AlipayClient/.test(navigator.userAgent)?m(e):h(e)};v.getParamHash=l,v.useApp=s,v.useGeoAPI=f,v.useRestAPI=d,v.useAlipay=p,t.default=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(204===e.status)return Promise.resolve.bind(Promise);var t=e.json();return e.status>=200&&e.status<300?t:t.then(Promise.reject.bind(Promise))};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(!t&&!(t=(window.navigator.userAgent.match(/Eleme\/([\d|\.]+)/i)||[])[1]))return!1;e=e.split("."),t=t.split(".");var n=void 0;return e.forEach(function(e,r){var o=t[r];if(void 0===o&&(o=0),void 0===n){var i=Number(e)-Number(o);0!==i&&(n=i>0)}}),!!n};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Object.prototype.toString.call(e).slice(8,-1)},r=function(e){if("Object"!==n(e))throw"param 必须是一个 object";var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Array.isArray(o)?t=t.concat(o.map(function(e){return encodeURIComponent(r)+"[]="+encodeURIComponent(e)})):"Object"===n(o)?(o=JSON.stringify(o),t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))):"Undefined"!==n(o)&&"Null"!==n(o)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}),t.join("&")};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){var t=e.id,n=e.entities,r=(e.callback,{clear_cart:!0});(0,o.default)("7.2")?r.add_foods=n.map(function(e){return{id:e.id,quantity:e.quantity,specs:e.specs.map(function(e){return e.value})}}):r.add_foods=n.map(function(e){var t=e.id,n=e.sku_id,r=e.quantity,o=e.specs,i=e.attrs;return{id:t,sku_id:n||"",quantity:r,specs:o,attrs:i}}),location.href="eleme://checkout?restaurant_id="+t+"&cart_operations="+JSON.stringify(r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"hash":arguments[2],o=arguments.length<=3||void 0===arguments[3]?1:arguments[3],i="";if("{}"!==JSON.stringify(t)){i="hash"===r?"#":"?";for(var a in t){var u=t[a];i+="object"===(void 0===u?"undefined":n(u))&&u?encodeURIComponent(a)+"="+encodeURIComponent(JSON.stringify(u))+"&":encodeURIComponent(a)+"="+encodeURIComponent(u)+"&"}}return i=""+e+i.replace(/&$/,""),/Eleme/.test(navigator.userAgent)&&(i="eleme://web?url="+encodeURIComponent(i)+"&animation_type="+o),i};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e){var t=e.key,n=e.value,r=e.expiredDate,o=e.expiredDay,i={value:n,expired:""};return r&&(i.expired=r),o&&(i.expired=Date.now()+60*o*60*1e3),localStorage.setItem(t,JSON.stringify(i)),{key:t,value:JSON.stringify(i)}},get:function(e){var t=void 0;try{t=JSON.parse(localStorage.getItem(e))}catch(e){throw e}if(!t)throw"The key: "+e+" you want are not found in localStorage";var n=Date.now()>new Date(t.expired).getTime();return{value:t.value,expired:n}}}}])})},1053:function(e,t,n){e.exports=n(1054)},1054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geohash=void 0,n(1055),n(1056),n(1057),n(1058),n(1059),n(1060);var r=n(459),o=babelHelpers.interopRequireDefault(r),i=n(1061),a=babelHelpers.interopRequireDefault(i),u=n(105),c=babelHelpers.interopRequireDefault(u);n(1064);var l=n(1066),s=n(460),f=babelHelpers.interopRequireDefault(s),d=n(4),p=babelHelpers.interopRequireWildcard(d);window.Geohash=o.default,window.UParams=a.default,window.Utils=c.default;var h=p.store,b=p.platform;b.isEleme&&window.hybridAPI&&c.default.getGeohash().then(function(e){return h.setLocation(e)}).catch(function(){});var m=UParams();m.from&&(b.isAlipay?f.default.init():localStorage.setItem("SUB_CHANNEL",m.from)),(b.isXiaomi||"miapp"===m.source)&&(0,l.autoInvoke)(),b.isAlipay&&document.addEventListener("DOMContentLoaded",function(){n.e(3).then(n.bind(null,3760)).then(function(e){var t=new Vue({name:"pop-player",render:function(t){return t("div",{},[t(e.default,{ref:"popPlayer"})])}}).$mount();document.body.appendChild(t.$el)}).catch(function(){}),f.default.sendPVParams(),f.default.checkNewUser(),window.FastClick&&window.FastClick.attach(document.body)}),t.geohash=o.default},1055:function(e,t){!function(e,t){function n(){var t=i.getBoundingClientRect().width,n=t/10;i.style.fontSize=n+"px",d.rem=e.rem=n}var r,o=e.document,i=o.documentElement,a=o.querySelector('meta[name="viewport"]'),u=o.querySelector('meta[name="flexible"]'),c=o.querySelector('meta[name="flexible-in-x5"]'),l=!0,s=0,f=0,d=t.flexible||(t.flexible={});if(a){console.warn("将根据已有的meta标签来设置缩放比例");var p=a.getAttribute("content").match(/initial\-scale=([\d\.]+)/);p&&(f=parseFloat(p[1]),s=parseInt(1/f))}else if(u){var h=u.getAttribute("content");if(h){var b=h.match(/initial\-dpr=([\d\.]+)/),m=h.match(/maximum\-dpr=([\d\.]+)/);b&&(s=parseFloat(b[1]),f=parseFloat((1/s).toFixed(2))),m&&(s=parseFloat(m[1]),f=parseFloat((1/s).toFixed(2)))}}if(c&&(l="false"!==c.getAttribute("content")),!s&&!f){var v=(e.navigator.appVersion.match(/android/gi),e.chrome),g=e.navigator.appVersion.match(/iphone/gi),y=e.devicePixelRatio,w=/TBS\/\d+/.test(e.navigator.userAgent),S=!1;try{S="true"===localStorage.getItem("IN_FLEXIBLE_WHITE_LIST")}catch(e){S=!1}s=g||v||w&&l&&S?y>=3&&(!s||s>=3)?3:y>=2&&(!s||s>=2)?2:1:1,f=1/s}if(i.setAttribute("data-dpr",s),!a)if(a=o.createElement("meta"),a.setAttribute("name","viewport"),a.setAttribute("content","initial-scale="+f+", maximum-scale="+f+", minimum-scale="+f+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(a);else{var _=o.createElement("div");_.appendChild(a),o.write(_.innerHTML)}e.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(n,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(r),r=setTimeout(n,300))},!1),"complete"===o.readyState?o.body.style.fontSize=12*s+"px":o.addEventListener("DOMContentLoaded",function(e){o.body.style.fontSize=12*s+"px"},!1),n(),d.dpr=e.dpr=s,d.refreshRem=n,d.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},d.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},1056:function(module,exports,__webpack_require__){"use strict";(function(global){var babelHelpers={};Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),r)};return function(e){var n=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var u,c=o(r.length),l=t(n)?Object(new n(c)):new Array(c),s=0;s<c;)u=r[s],l[s]=a?void 0===i?a(u,s):a.call(i,u,s):u,s+=1;return l.length=c,l}}()),babelHelpers.typeof="function"===eval("typeof Symbol")&&"symbol"===eval("typeof Symbol.iterator")?function(obj){return eval("typeof obj")}:function(obj){return obj&&"function"===eval("typeof Symbol")&&obj.constructor===Symbol?"symbol":eval("typeof obj")},babelHelpers.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),babelHelpers.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){return r("next",e)},function(e){return r("throw",e)});e(u)}return r("next")})}},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),babelHelpers.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},babelHelpers.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},babelHelpers.get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":babelHelpers.typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},babelHelpers.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},babelHelpers.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},babelHelpers.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},babelHelpers.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},babelHelpers.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&"function"!=typeof t?e:t},babelHelpers.selfGlobal=void 0===global?self:global,babelHelpers.set=function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var u=i.set;void 0!==u&&u.call(o,r)}return r},babelHelpers.slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),babelHelpers.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},babelHelpers.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},babelHelpers.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},babelHelpers.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},babelHelpers.temporalUndefined={},babelHelpers.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},babelHelpers.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Object.assign||(Object.assign=babelHelpers.extends),"undefined"==typeof window?global.babelHelpers=babelHelpers:window.babelHelpers=babelHelpers}).call(exports,__webpack_require__(41))},1057:function(e,t,n){"use strict";var r=JSON.parse;JSON.parse=function(e){return""===e?null:r.apply(JSON,arguments)}},1058:function(e,t,n){"use strict";try{"object"!==("undefined"==typeof localStorage?"undefined":babelHelpers.typeof(localStorage))&&(localStorage={})}catch(e){setTimeout(function(){throw e})}!function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{localStorage.setItem(e,e),e===localStorage.getItem(e)&&localStorage.removeItem(e)}catch(r){if(!localStorage)return;var t={},n=e;localStorage.setItem=function(e,r){t[n+e]=r+""},localStorage.getItem=function(e){return n+e in t?t[n+e]:null},localStorage.removeItem=function(e){delete t[n+e]},localStorage.clear=function(){t={}}}}(),function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{sessionStorage.setItem(e,e),e===sessionStorage.getItem(e)&&sessionStorage.removeItem(e)}catch(r){if(!sessionStorage)return;var t={},n=e;sessionStorage.setItem=function(e,r){t[n+e]=r+""},sessionStorage.getItem=function(e){return n+e in t?t[n+e]:null},sessionStorage.removeItem=function(e){delete t[n+e]},sessionStorage.clear=function(){t={}}}}(),function(){var e=Date.parse;Date.parse=function(t){var n=String(t).match(/^(\d+)-(\d+)-(\d+)T(\d+):(\d+)(?::(\d+)(?:\.(\d\d\d))?)?(z|[+-]\d\d:?\d\d)$/i);if(n){var r=n[8].match(/\d\d/g)||[];return r[0]=0|r[0],r[1]=0|r[1],"-"===n[8].charAt(0)&&(r[0]=-r[0],r[1]=-r[1]),Date.UTC(n[1],n[2]-1,n[3],n[4]-r[0],n[5]-r[1],0|n[6],0|n[7])}return e.apply(this,arguments)}}()},1059:function(e,t,n){"use strict";Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}}},1060:function(e,t,n){"use strict";Promise.prototype.always=function(e){return this.then(e,e)}},1061:function(e,t,n){!function(t){"object"==typeof e&&e.exports?t(function(t,n,r){void 0===r&&(r=n,n=[]);var o;o=[],e.exports=r.apply(e.exports,o)||e.exports}):"function"===String("function")&&n(1062)?t(n(1063)):t(function(e,t,n){void 0===n&&(n=t,t=[]);try{"object"==typeof execScript&&execScript("var "+e)}catch(e){}window[e]={};for(var r=[],o=0;o<t.length;o++)r[o]=window[t[o]];window[e]=n.apply(window[e],r)||window[e]})}(function(e){"use strict";e("UParams",function(){var e=RegExp.prototype.test.bind(/^(?:toString|valueOf)$/),t=function(n){if(!(this instanceof t))return new t(n);n||(n=location.search+location.hash);var r=this;switch(typeof n){case"object":for(var o in n)e(o)||(r[o]=n[o]+"");break;case"string":n.replace(/([^=?#&]*)=([^?#&]*)/g,function(t,n,o){e(n)||(r[decodeURIComponent(n)]=decodeURIComponent(o))})}};return Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}}),t})})},1062:function(e,t){(function(t){e.exports=t}).call(t,{})},1063:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1064:function(e,t,n){"use strict";var r=n(1065),o=babelHelpers.interopRequireDefault(r),i=/sw_debug/.test(location.href),a=/Eleme/i.test(navigator.userAgent),u=+(navigator.userAgent.match(/UCBrowser\/(\d+)\./i)||[])[1]||0,c=+(navigator.userAgent.match(/Chrome\/(\d+)\./i)||[])[1]||0,l=(navigator.userAgent.match(/Chrome\/([\d|\.]+)/i)||[])[1]||"",s=!!l.match(/^44\.0\.2403/),f=+(navigator.userAgent.match(/TBS\/(\d+)/i)||[])[1]||0,d=function(){navigator.serviceWorker&&navigator.serviceWorker.getRegistrations&&navigator.serviceWorker.getRegistrations().then(function(e){e.forEach(function(e){e.unregister()})})},p=function(){var e=function(e){return UBT.send("EVENT",{id:3930,params:{type:e}})};window.addEventListener("beforeinstallprompt",function(t){e(0),t.userChoice.then(function(t){e("accepted"===t.outcome?1:2)})});var t="/sw.js?debug="+i+"&UC="+!!u+"&APP="+!!a;navigator.serviceWorker.register(t)},h=function(){return!!i||!s&&(u>=11||window.chrome&&c>=49||f>=43124&&c>=53)};!function(){if("serviceWorker"in navigator)i?p():h()?fetch("//crayfish.elemecdn.com/h5.ele.me@json/service-worker").then(function(e){return e.json()}).then(function(e){return e.downgrade&&!i?d():a?void(0,o.default)("service-worker","grayscale").then(p).catch(d):p()}).catch(function(){}):d()}()},1065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;"undefined"!=typeof localStorage&&((r=+localStorage.getItem("GRAYSCALE"))||(r=Math.random(),localStorage.setItem("GRAYSCALE",r)));var o=function(e,t){return"undefined"==typeof localStorage?Promise.reject():fetch("//crayfish.elemecdn.com/h5.ele.me@json/"+e,{credentials:"omit"}).then(function(e){return e.json()}).then(function(e){return e&&r<e[t]?Promise.resolve():Promise.reject()})};t.default=o},1066:function(e,t,n){"use strict";function r(){window.addEventListener("DOMContentLoaded",function(){var e=location.pathname,t=a[e];t&&(0,i.default)(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.autoInvoke=t.invoker=void 0;var o=n(1067),i=babelHelpers.interopRequireDefault(o),a={"/":"Index","/msite/":"Index","/msite/food/":"Index","/shop/":"Shop","/order/":"Orders","/order/detail/":"Orders","/profile/":"Profile","/login/":"Auth"};t.invoker=i.default,t.autoInvoke=r},1067:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!sessionStorage.getItem(a)){var n=i+"?i="+o+"&p="+e,r=Object.assign(new UParams,t),u=Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&");u&&(n+="&a="+encodeURIComponent(u));var c=new Image;c.src=n,c=null,sessionStorage.setItem(a,!0)}}Object.defineProperty(t,"__esModule",{value:!0});var o="me.ele.miui",i="http://thefatherofsalmon.com",a="MIX_INVOKED";t.default=r},1068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(461),o=babelHelpers.interopRequireDefault(r),i=n(19),a=babelHelpers.interopRequireDefault(i),u=function(e){return"number"==typeof e&&e>0};t.default={userId:function(){return new Promise(function(e,t){var n=a.default.userId;return u(n)&&e(n),(0,o.default)("/eus/v1/current_user?info_raw={}").then(function(r){a.default.setUserId(r),u(n)&&r!==n&&location.reload(),u(r)?e(r):(t({name:"HTTP_UNAUTHORIZED",message:"未登录"}),a.default.setUser())}).catch(function(e){return t(e)})})},userBasic:function(){return this.userId().then(function(e){return(0,o.default)("/eus/v2/users/"+e)})},reverseGeoCoding:function(e){var t=e.latitude,n=e.longitude;return(0,o.default)("/bgs/poi/reverse_geo_coding?latitude="+t+"&longitude="+n)}}},1069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){if(!window.hybridAPI)return location.href=e;hybridAPI.pay({merchantId:(e.match(/merchantId=(\d+)/)||[])[1],merchantOrderNo:(e.match(/merchantOrderNo=(\d+)/)||[])[1],xShard:decodeURIComponent((e.match(/xShard=(.+)&?/)||[])[1])}).then(t).catch(function(t){if("NOT_SUPPORT"===t.name)return location.href=e;n(t)})})}},1070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n={success:e};e||(n.error={message:"object"===(void 0===t?"undefined":babelHelpers.typeof(t))?JSON.stringify(t):t}),window.perf&&window.perf.sendRawEvent("page_success",n)};t.default=r},1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=babelHelpers.interopRequireDefault(r),i=function(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)},a={get user(){return"user_"+(o.default.userId||"guest")},path:location.pathname.replace(/\//g,"")},u=function(){try{var e=JSON.parse(localStorage.getItem(a.user));return i(e)?e:{}}catch(e){return{}}},c=function(e){var t=e[a.path];return i(t)?t:{}},l=function(e){localStorage.setItem(a.user,JSON.stringify(e))};t.default={getAllPaths:u,getAllItems:function(){return c(u())},getItem:function(e){return c(u())[e]},setItem:function(e,t){var n=u(),r=c(n);r[e]=t,n[a.path]=r,l(n)},removeItem:function(e){var t=u(),n=c(t);delete n[e],t[a.path]=n,l(t)},clear:function(){var e=u();e[a.path]={},l(e)}}},1072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=r.store.get("location")||{},i={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"},a=/^h5-vip\./.test(document.domain)?"//ppe-openapi.ele.me/v2":"//openapi.ele.me/v2",u={m:1,f:2};t.default={userId:function(){return(0,r.$fetch)("/eus/v1/current_user?info_raw={}",{credentials:"include"})},login:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,r.$fetch)("/eus/login/alipay_login",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},a,o))})).then(function(t){return n.getAlipayUserInfo(e),n.userId().then(function(e){return r.store.setUserId(e),t}).catch(function(){return t})})},getAlipayCode:function(e,t){return(0,r.$fetch)(a+"/koubei/oauthcode/",{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify({scope:t,auth_code:e})}).then(function(e){return e.data?e.data:Promise.reject(e)})},loginPassword:function(e,t,n){return(0,r.$fetch)("/eus/login/alipay_login/by_password",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},n,o))}))},loginMobile:function(e,t,n){return(0,r.$fetch)("/eus/login/alipay_login/by_mobile",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},n,o))}))},getCaptcha:function(e){return(0,r.$fetch)("/eus/v3/captchas",babelHelpers.extends({},i,{body:JSON.stringify({captcha_str:e})}))},getMobileCode:function(e){return(0,r.$fetch)("/eus/login/mobile_send_code",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({},e,o))}))},getAlipayUserInfo:function(e){(0,r.$fetch)(a+"/koubei/user_info/",babelHelpers.extends({},i,{body:JSON.stringify({alipay_code:e})})).then(function(e){var t=e.data,n=t.mobile,o=t.user_name,i=t.gender,a=0;i&&(a=u[i.toLowerCase()]),r.store.set("ali_user_info",{phone:n,name:o,sex:a})}).catch(function(){})},checkNewUser:function(e){return(0,r.$fetch)(a+"/koubei/alipay-user-check/",babelHelpers.extends({},i,{credentials:"omit",body:JSON.stringify({alipay_code:e})})).then(function(e){return e.data?e.data:Promise.reject(e)})}}},1073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ALIPAY_META",o=JSON.stringify({loginTip:!1,orderTip:!1});t.default={formatHiddenPhone:function(e){return e.slice(0,3)+"******"+e.slice(3)},getUrlPhone:function(){var e=UParams().mobile,t="";return e&&5===e.length&&(t=this.formatHiddenPhone(e)),t},store:{get data(){var e={};try{e=JSON.parse(localStorage.getItem(r)||o)}catch(e){}return e},get:function(e){return this.data[e]},set:function(e,t){var n=this.data;n[e]=t,localStorage.setItem(r,JSON.stringify(n))}}}},1074:function(e,t,n){"use strict";function r(e,t){var n=i[u],r=n.appId,o=n.authHost,a=n.openapi,c=o+"/oauth2/publicAppAuthorize.htm?app_id="+r+"&scope="+e+"&redirect_uri="+encodeURIComponent(a);return t&&(c+="&next_url="+encodeURIComponent(encodeURIComponent(t))),c}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i={vip:{appId:"2017083108482117",authHost:"https://openauth.alipay.com",openapi:"https://ppe-openapi.ele.me/v2/koubei/notify"},prod:{appId:"2017080208005319",authHost:"https://openauth.alipay.com",openapi:"https://openapi.ele.me/v2/koubei/notify"}},a={1:"auth_base",2:"auth_user,auth_ele_data"},u=/^h5-vip\./.test(document.domain)?"vip":"prod";t.default={getCookieAlipayCode:function(){return(document.cookie.match(/alipay_code=(\w+)/)||[])[1]},invokeAuthSilent:function(e){location.replace(r(a[1],e))},invokeOAuth:function(e){location.replace(r(a[2],e))},getAuthCode:function(e){return new Promise(function(t,n){AlipayJSBridge.call("getAuthCode",{scopeNicks:e.split(","),appId:i[u].appId},function(e){e.authcode?t(e.authcode):n(e)})})},getAlipayCode:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!window.ap||ap.compareVersion("10.0.16")<0)return this[1===t?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject();var n=a[t];return this.getAuthCode(n).then(function(e){return o.AliAPI.getAlipayCode(e,n)}).then(function(e){return o.AliUtil.store.set("code",e.alipay_code),e}).catch(function(n){return window.perf&&window.perf.sendEvent({name:"h5/alipay-jsauth-failed",id:"rJW5z4aYW",data:{error:n.message||JSON.stringify(n)}}),11===n.error?(ap.showToast({type:"fail",content:"使用前请先授权噢~"}),ap.popWindow()):n.error&&e[1===t?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject()})}}},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(459),o=babelHelpers.interopRequireDefault(r),i=function(){var e=void 0;try{e=JSON.parse(localStorage.getItem("STORE"))||{}}catch(t){e={}}return e},a={get:function(e){var t=i();return e?t[e]:t},set:function(e,t){var n=i();n[e]=t;try{localStorage.setItem("STORE",JSON.stringify(n))}catch(e){console.error(e)}return n},setLocation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=o.default.decode(e),r=babelHelpers.slicedToArray(n,2),i=r[0],a=r[1],u=parseInt(Date.now()/1e3);return this.set("location",{geohash:e,latitude:i,longitude:a,timestamp:u,locationName:t})},setUser:function(e){return this.set("user",e)},setUserId:function(e){return this.set("userId",e)},get location(){return this.get("location")},get user(){return this.get("user")},get userId(){return this.get("userId")}};t.default=Object.freeze(a)},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userStorage=t.getLoginURL=t.dontUseGradient=t.platform=t.isApp=t.sendPageSuccess=t.pay=t.biz=t.store=t.$fetch=void 0;var r=n(105),o=babelHelpers.interopRequireDefault(r),i=n(19),a=babelHelpers.interopRequireDefault(i),u=n(461),c=babelHelpers.interopRequireDefault(u),l=n(1068),s=babelHelpers.interopRequireDefault(l),f=n(1069),d=babelHelpers.interopRequireDefault(f),p=n(1070),h=babelHelpers.interopRequireDefault(p),b=n(1071),m=babelHelpers.interopRequireDefault(b),v=navigator.userAgent,g=/Eleme/i.test(v),y={isEleme:g,isAlipay:/alipay/i.test(v),isOpensite:/opensite/.test(document.domain),isXiaomi:/xiaomi/i.test(v),isWechat:/micromessenger/i.test(v),isQQ:/\sQQ\/\d/.test(v),isIOS:/iPhone|iPad|iPod|iOS/i.test(v),isIPhoneX:function(){if(!/iPhone/i.test(v))return!1;var e=window.screen||{};return 812===e.height&&375===e.width}()},w=g&&o.default.compareVersion("7.12.0"),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return g?"eleme://login":"/login#redirect="+encodeURIComponent(e)};t.$fetch=c.default,t.store=a.default,t.biz=s.default,t.pay=d.default,t.sendPageSuccess=h.default,t.isApp=g,t.platform=y,t.dontUseGradient=w,t.getLoginURL=S,t.userStorage=m.default},41:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AliLocation=t.AliUbt=t.AliUtil=t.AliAuth=t.AliAPI=void 0;var r=n(1072),o=babelHelpers.interopRequireDefault(r),i=n(1073),a=babelHelpers.interopRequireDefault(i),u=n(460),c=babelHelpers.interopRequireDefault(u),l=n(1074),s=babelHelpers.interopRequireDefault(l),f=n(462),d=babelHelpers.interopRequireDefault(f);t.AliAPI=o.default,t.AliAuth=s.default,t.AliUtil=a.default,t.AliUbt=c.default,t.AliLocation=d.default},459:function(e,t,n){var r=new function(){var e=Math.round,t=Math.max,n=Math.pow,r=Math.log,o="0123456789bcdefghjkmnpqrstuvwxyz",i=new RegExp("^["+o+"]+$"),a=function(){};a.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(e,r){if(e instanceof Array&&null==r&&(r=e[1],e=e[0]),e*=1,r*=1,e!==e)throw new Error("Geohash.encode: lat must be a Number");if(r!==r)throw new Error("Geohash.encode: lng must be a Number");for(var i,u,c=e.toString().length-e.toFixed().length-2,l=r.toString().length-e.toFixed().length-2,s=n(10,-t(c,l,0))/2,f=new a,d=[],p=180,h=!0,b=0,m=4;p>=s;)if(h?(i=f.halfLng(),r>i?(b|=1<<m,f.minlng=i):f.maxlng=i):(i=f.halfLat(),e>i?(b|=1<<m,f.minlat=i):f.maxlat=i),h=!h,m)m--;else{if(u=p,p=t(f.maxlng-f.minlng,f.maxlat-f.minlat),u===p)break;d.push(o[b]),m=4,b=0}return d.join("")},this.decode=function(u){if(!i.test(u))throw new Error("Geohash.decode: hash must be a geohash string");for(var c=new a,l=90,s=180,f=0,d=u.length;f<d;f++){for(var p=o.indexOf(u[f]),h=1&f,b=4;b>=0;b--)!function(e,t,n){var r=1<<e;!(1&e)^!(1&n)?r&t?c.minlat=c.halfLat():c.maxlat=c.halfLat():r&t?c.minlng=c.halfLng():c.maxlng=c.halfLng()}(b,p,h);h?(l/=8,s/=4):(l/=4,s/=8)}var m=n(10,t(1,-e(r(l)/r(10)))-1),v=n(10,t(1,-e(r(s)/r(10)))-1);return[e(c.halfLat()*m)/m,e(c.halfLng()*v)/v]}};e.exports=r},460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=n(42),a={koubei:0,zhifubao:1,koubeishangjia:2,kb_shop:2,cardquan:3,cardwei:4,koubeihongbao:5,kb_hongbao:5,shenghuohao:6,koubeirebuy:7,kb_rebuy:7,koubeiorder:8,kb_order:8,kb_ordershop:9,entrycard:10,neirong:11},u=(r={},babelHelpers.defineProperty(r,"alipay:koubei",[0,2,5,7,8,9]),babelHelpers.defineProperty(r,"alipay:zhifubao",[1,3,4,6,10,11]),r);t.default={init:function(){var e=a[UParams().from];void 0!==e&&(window.UBT.send("EVENT",{id:101152,params:{type:e}}),this._setSubChannel(e))},_setSubChannel:function(e){var t="";Object.keys(u).some(function(n){if(-1!==u[n].indexOf(e))return t=n,!0}),t&&localStorage.setItem("SUB_CHANNEL",t)},sendPVParams:function(){var e={},t=o.store.get("cityId");t&&(e.city_id=t),Object.keys(e).length&&window.UBT&&setTimeout(function(){window.UBT.send("PARAMS",e)},300)},checkNewUser:function(){var e=i.AliUtil.store.get("isNew"),t=i.AliUtil.store.get("code");if(!1!==e&&t){ap.getSessionData("userChecked").then(function(e){e.data.userChecked||i.AliAPI.checkNewUser(t).then(function(e){i.AliUtil.store.set("isNew",e.alipay_new_user),ap.setSessionData({data:babelHelpers.defineProperty({},"userChecked",!0)})}).catch(function(){})}).catch(function(){})}}}},461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=babelHelpers.interopRequireDefault(r),i=/^(opensite|opensite-vip)\./.test(location.hostname),a=function(e){return!/\.elemecdn\.com/.test(e)},u=window.fetch;window.fetch=function(e,t){var n=o.default.get("location");return n&&function(n){var r=n.latitude,o=n.longitude;if(r&&o)if("[object Request]"===e.toString())a(e.url)&&e.headers.append("X-Shard","loc="+r+","+o);else if(a(e)){t=t||{},t.headers=Object.assign({},t.headers);var i=t.headers["X-Shard"];t.headers["X-Shard"]=i?i+";loc="+o+","+r:"loc="+o+","+r}}(n),u(e,t)};var c=function(e){if(204===e.status)return Promise.resolve.bind(Promise);var t=e.json();return e.status>=200&&e.status<300?t:t.then(Promise.reject.bind(Promise))},l=function(e){var t=i?"//opensite-restapi.ele.me":"//restapi.ele.me";return"[object Request]"===e.toString()?e.url=/^(https:|http:)?\/\//.test(e.url)?e.url:""+t+e.url:e=/^(https:|http:)?\/\//.test(e)?e:""+t+e,e},s=function(e){var t="[object Request]"===e.toString()?e.url:e;return a(t)?"include":"omit"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},t.headers);return n.orderId&&(r["X-Shard"]="eosid="+n.orderId),n.shopId&&(r["X-Shard"]="shopid="+n.shopId),i&&t.method&&"get"!==t.method.toLocaleLowerCase()&&(r["Content-Type"]="application/json"),t=Object.assign(t,{headers:r,credentials:t.credentials||s(e)}),e=l(e),fetch(e,t).then(c)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(){},o=t.timeout||1e4,i=new Promise(function(e,t){r=function(){return t({name:"HTTP_TIMEOUT",message:"已超时"})}}),a=Promise.race([f(e,t,n),i]);a.abort=r;var u=setTimeout(function(){r(),clearTimeout(u),u=null},o);return a};t.default=d},462:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!e.error)return!1;var n=e.error;return t?12===n||16===n||4===n:11===n}function o(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Promise.resolve():ap.call("getAuthStatus",{bizType:"ElePG",authType:"LBS"}).then(function(e){if("1"!=e.authStatus)return Promise.reject(e)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0;return t=e?Promise.resolve({shown:!1}):ap.call("showAuthGuide",{bizType:"ElePG",authType:"LBS"}),t.then(function(e){if(!e.shown){var t="请到手机设置中开启支付宝的定位服务，开启后才能定位到你当前所在位置";Vue.prototype.$MessageBox?Vue.prototype.$MessageBox.alert({title:"开启定位服务",content:t}):alert(t)}}).catch(function(){})}function a(){var e=null,t=c.store.location||{},n=t.timestamp;return n&&parseInt(Date.now()/1e3)-n<1800&&(e=t.geohash),e}function u(){var e=ap.compareVersion("10.0.18")<0,t=void 0,n={timeout:10,cacheTimeout:1800};return t=e?ap.getLocation(n):ap.call("getCurrentLocation",babelHelpers.extends({requestType:0,bizType:c.platform.isIOS?"iOS-ele-position":"Android-ele-position"},n)),o(e).then(function(){return t.then(function(e){return window.Geohash.encode(e.latitude,e.longitude)}).catch(function(t){return r(t,e)&&(t=l,i(e)),Promise.reject(t)})}).catch(function(){return i(e),Promise.reject(l)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreLocation=void 0,t.default=u;var c=n(4),l={name:"NEED_LOCATION_PERMISSION"};t.getStoreLocation=a}});